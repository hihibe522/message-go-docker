webpackJsonp([1],{CdKO:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("7+uW"),a=n("mtWM"),i=n.n(a),r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var o=n("VU/8")({name:"App"},r,!1,function(t){n("yOW3")},null,null).exports,c=n("/ocq"),d=n("Dd8w"),g=n.n(d),l={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"msg-wrap"},[n("div",{staticClass:"msg-content"},[n("span",[t._v(t._s(t.msgdata.name))]),t._v(":\n      "),n("span",[t._v(t._s(t.msgdata.msg))])]),t._v(" "),n("div",{staticClass:"btn-wrap"},[n("button",{on:{click:function(e){return t.editMsg(t.msgdata)}}},[t._v("修改")]),t._v(" "),n("button",{on:{click:function(e){return t.deleteMsg(t.msgdata.msg_id)}}},[t._v("刪除")])])])},staticRenderFns:[]};var m={name:"board",components:{msgText:n("VU/8")({name:"msgText",props:["msgdata"],data:function(){return{}},methods:{deleteMsg:function(t){this.$emit("delete",t)},editMsg:function(t){this.$emit("edit",t)}}},l,!1,function(t){n("fhdE")},"data-v-0f696846",null).exports},data:function(){return{recentlyMsg:{msg_id:"",name:"",msg:""},msgData:[]}},created:function(){this.initPageMsgs()},methods:{initPageMsgs:function(){var t=this;i.a.get("/board").then(function(e){t.msgData=e.data.result})},addMsg:function(){var t=this;if(""!==this.recentlyMsg.name&&""!==this.recentlyMsg.msg){var e={name:this.recentlyMsg.name,msg:this.recentlyMsg.msg};if(""!==this.recentlyMsg.msg_id)return e.Msg_id=this.recentlyMsg.msg_id,console.log(e),void i.a.patch("/board",e).then(function(e){e.data.status&&(t.recentlyMsg.msg_id="",t.recentlyMsg.name="",t.recentlyMsg.msg="",t.initPageMsgs())});i.a.post("/board",e).then(function(e){e.data.status&&(t.recentlyMsg.name="",t.recentlyMsg.msg="",t.initPageMsgs())})}},outDelete:function(t){var e=this;i.a.delete("/board",{params:{msg_id:t}}).then(function(t){t.data.status&&e.initPageMsgs()})},outEdit:function(t){var e=g()({},t);this.recentlyMsg=e}}},u={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("h1",[t._v("Message Board")]),t._v(" "),n("div",{staticClass:"main-wrap"},[n("div",{staticClass:"board-wrap"},t._l(t.msgData,function(e){return n("msg-text",{key:e.msg_id,attrs:{msgdata:e},on:{delete:t.outDelete,edit:t.outEdit}})}),1),t._v(" "),n("div",{staticClass:"control-wrap"},[n("div",{staticClass:"input-wrap"},[n("label",{attrs:{for:""}},[t._v("暱稱")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.recentlyMsg.name,expression:"recentlyMsg.name"}],attrs:{type:"text"},domProps:{value:t.recentlyMsg.name},on:{input:function(e){e.target.composing||t.$set(t.recentlyMsg,"name",e.target.value)}}}),t._v(" "),n("label",{attrs:{for:""}},[t._v("內容")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.recentlyMsg.msg,expression:"recentlyMsg.msg"}],attrs:{type:"text"},domProps:{value:t.recentlyMsg.msg},on:{input:function(e){e.target.composing||t.$set(t.recentlyMsg,"msg",e.target.value)}}}),t._v(" "),n("button",{on:{click:t.addMsg}},[t._v("發送")])])])])])},staticRenderFns:[]};var v=n("VU/8")(m,u,!1,function(t){n("CdKO")},"data-v-e1481e62",null).exports;s.a.use(c.a);var p=new c.a({routes:[{path:"/",name:"board",component:v}]});s.a.prototype.$axios=i.a,i.a.defaults.baseURL="/api",s.a.config.productionTip=!1,new s.a({el:"#app",router:p,components:{App:o},template:"<App/>"})},fhdE:function(t,e){},yOW3:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.6b2ff1b546cf5eba9054.js.map